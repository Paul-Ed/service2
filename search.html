<!doctype html>
<html>
<head>
    <meta charset="utf-8">
    <title>Search Page</title>

    <link href="css/service2.css" rel="stylesheet" type="text/css">

    <script src="js/jquery-3.2.1.min.js"></script>

    <script>

        var resultList = [
            {
                id: 12345,
                name: "Jim Beam",
                regNumber: "CX 12354",
                vehicleDescription: "Mazda 323",
                date: new Date(2016, 6, 5)
            }, {
                id: 12346,
                name: "Johannes L",
                regNumber: "CAW 36543",
                vehicleDescription: "Mercedes-Benz C220",
                date: new Date(2016, 7, 7)
            }, {
                id: 12347,
                name: "Ricky Louw",
                regNumber: "TZS 456 GP",
                vehicleDescription: "Golf 3 III",
                date: new Date(2016, 8, 1)
            }
        ];


        function loadQuote() {
            var id = $(this).data("element_id");
            location.replace("person.html?id=" + id); // moet app.html word
        }

        function doSearch() {
            var searchString = $("#search_string").val();
            // alert("sending searchString to server => " + searchString);
            console.log("searchString", searchString);

            var table = $("#result_list")[0];
            while (table.rows.length > 0) {
                deleteRow(-1);
            }
            resultList.forEach(function (item) {
                var newRow = table.insertRow(-1);
                $(newRow).data("element_id", item.id).on("click", loadQuote);

                var newCell = newRow.insertCell(-1);
                $(newCell).text(item.name);

                newCell = newRow.insertCell(-1);
                $(newCell).text(item.regNumber);

                newCell = newRow.insertCell(-1);
                $(newCell).text(item.vehicleDescription);

                newCell = newRow.insertCell(-1);
                $(newCell).text(item.date);
            });
        }

        $(document).ready(function () {
            $("#do_search").on("click", doSearch);
        })
    </script>


</head>

<body>

<div>
    <input id="search_string" type="text">
    <button id="do_search">Do Search</button>
</div>

<table id="result_list">
</table>

</body>
</html>
